<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Sklep â€¢ DS</title>
  <link rel="stylesheet" href="./shop.css"/>
</head>
<body>
<canvas id="bg"></canvas>

<header class="topbar">
  <div class="left">
    <h1>DS â€¢ Sklep</h1>
  </div>
  <div class="right">
    <button id="adminPanelBtn" class="ghost" hidden>Panel admina</button>
    <div id="userBox" class="user">
      <img id="userAvatar" src="" alt="" />
      <span id="userName">GoÅ›Ä‡</span>
    </div>
    <a class="btn" href="../index.html#login">Zaloguj</a>
    <button class="btn" id="cartBtn">ðŸ›’ <span id="cartCount">0</span></button>
  </div>
</header>

<main>
  <section class="grid" id="products"></section>
</main>

<!-- Modal BUY -->
<div id="buyModal" class="modal hidden">
  <div class="modal__content">
    <h3 id="buyTitle">Kup</h3>
    <div id="buyOptions"></div>
    <div class="modal__actions">
      <button class="btn ghost" id="buyCancel">Anuluj</button>
      <button class="btn" id="buyAddToCart">Dodaj do koszyka</button>
    </div>
  </div>
</div>

<!-- Modal CART -->
<div id="cartModal" class="modal hidden">
  <div class="modal__content">
    <h3>TwÃ³j koszyk</h3>
    <div id="cartList"></div>
    <textarea id="orderNote" placeholder="Dodatkowa notatka..."></textarea>
    <div class="modal__actions">
      <button class="btn ghost" id="cartClose">Zamknij</button>
      <button class="btn pulse" id="cartCheckout">Kup</button>
    </div>
  </div>
</div>

<!-- Panel admina -->
<div id="adminPanel" class="drawer hidden">
  <div class="drawer__head">
    <h3>Panel admina</h3>
    <button id="adminClose" class="ghost">x</button>
  </div>
  <form id="productForm">
    <label>ID (unikalne): <input name="id" required/></label>
    <label>TytuÅ‚: <input name="title" required/></label>
    <label>Opis: <textarea name="description"></textarea></label>
    <label>Obrazek (URL): <input name="imageUrl"/></label>
    <label>Tagi (po przecinku): <input name="tags"/></label>

    <h4>Warianty</h4>
    <div id="optionsWrap"></div>
    <button type="button" id="addOption" class="ghost">+ wariant</button>

    <div class="drawer__actions">
      <button type="submit" class="btn">Zapisz produkt</button>
    </div>
  </form>
</div>

<script>
  const API_BASE_URL = "https://api.sparkedservers.us"; // twÃ³j HTTPS proxy
</script>
<script src="./shop.js"></script>
</body>
</html>
